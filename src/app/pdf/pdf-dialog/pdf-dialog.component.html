<div layout="row" layout-wrap>
    <div flex="85" layout="column" layout-align="center start"></div>
    <div flex="5" layout="column" layout-align="center end">
        <button mat-mini-fab (click)="generatePDF()" color="accent">
            <mat-icon>print</mat-icon>
        </button>
    </div>
    <div flex="5" layout="column" layout-align="center end">
        <button mat-mini-fab (click)="downloadPDF()" color="primary">
            <mat-icon>print</mat-icon>
        </button>
    </div>
    <div flex="5" layout="column" layout-align="center center">
        <button mat-mini-fab color="accent" mat-dialog-close>
            <mat-icon>close</mat-icon>
        </button>
    </div>
</div>
<div #pdfContainer>
    <section id="content" class="pdf-container">
    <div class="section-top">
        <div class="logo">
            <img src="https://www.deep-screen.ch/assets/logo.png">
        </div>
        <div class="line1">
            <img src="https://i.imgur.com/pVtkNBu.png">
        </div>
        <div class="section-title">
            <h1 class="main-title">{{offerData.offerTitle}}</h1>
            <br/>
            <h2>Wir lösen Ihre Business Challenges.</h2>
        </div>
        <div class="line2">
            <img src="https://i.imgur.com/oHMDK49.jpg">
        </div>
        <div class="offer-info-container">
            <div class="offer-info offer-info1">
                <p>Referenz-Nr.:{{offerData.offerNumber}}</p>
                <p>Dokumenttyp: Offerte</p>
                <p>Datum: {{offerData.tstamp | date: 'dd.MM.y'}}</p>
            </div>
            <div class="offer-info">
                <h4>Verantwortliche Person:</h4>
                <p>deepscreen GmbH</p>
                <p>{{offerData.sealer[0].name}}</p>
                <p>Tel. {{offerData.sealer[0].phone}}</p>
                <p>Mob. {{offerData.sealer[0].mobile}}</p>
                <p>{{offerData.sealer[0].mail}}</p>
            </div>
            <div class="offer-info">
                <h4>Empfänger:</h4>
                <p>{{offerData.client[0].companyName}}</p>
                <p>Tel. {{offerData.client[0].contactPhone}}</p>
                <p>Mob. {{offerData.client[0].mobile}}</p>
                <p>{{offerData.client[0].mail}}</p>
            </div>
        </div>
        <div class="section-top-bottom">
            <p>Dieses Dokument ist vertraulich und ausschliesslich für den unten angegebenen Empfänger bestimmt.Kein
                Bestandteil dieser Dokumentation darf in irgendeiner Form, weder elektronisch noch mechanisch, zu
                irgendwelchen Zwecken vervielfältigt werden. Diese Dokumentation ist urheberrechtlich geschützt und darf
                nicht an unautorisierte Dritte weitergegeben werden.
            </p>
        </div>
    </div>

    <ng-container *ngFor="let group of offerGroups; let last = last; let i = index" ngSwitch="{{group.type}}">

        <!-- PAGES -->
        <div *ngSwitchCase="'2'">
            <div class="page-wrapper">
                <div class="line3">
                    <img src="https://i.imgur.com/XAkhpSy.png">
                </div>
                <div class="content-wrapper">
                    <h2 *ngIf="group.title?.length > 0">{{group.title}}</h2>
                    <h4 class="no-borders" *ngIf="group.subtitle?.length > 0">{{group.subtitle}}</h4>
                    <div class="group-info">
                        <div [innerHTML]="group.bodytext"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CHAPTERS -->
        <div *ngSwitchCase="'1'">
            <div class="page-wrapper">
                <div class="content-wrapper">
                    <h2>{{group.name}}</h2>
                    <div class="modules" *ngFor="let module of group.modules">
                        <table style="border-collapse: collapse; width: 100%;" border="0">
                            <tbody>

                            <tr class="modules-header" *ngIf="module.name">
                                <th class="first-td">
                                    <h4>{{module.name}}</h4>
                                </th>
                                <th class="second-td">
                                    <h4>Betrag</h4>
                                </th>
                                <th class="third-td">
                                    <h4>Enthalten</h4>
                                </th>

                            </tr>
                            <tr class="modules-main">
                                <td class="first-td">
                                    <p [innerHTML]="module.bodytext"></p>
                                </td>
                                <td class="second-td">
                                    <p class="module-price">{{module.price | number:'2.2-2'}}</p>
                                </td>
                                <td class="img-shape third-td">
                                    <img src="https://i.imgur.com/BCFrz7n1.png" *ngIf="!module.signed">
                                    <img src="https://i.imgur.com/BCFrz7n.png" *ngIf="module.signed">
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                    <ng-template [ngIf]="group.summary">
                        <table class="total-table">
                            <tbody>
                            <tr class="total">
                                <th>
                                    <h4>Total</h4>
                                </th>
                                <th>
                                    <p>{{group.subTotal}}</p>
                                </th>
                            </tr>
                            </tbody>
                        </table>
                        <div class="remarks">
                            <div class="bemerkungen">
                                <div [innerHTML]="offerData.comments"></div>
                            </div>
                            <div id="pageFooter-{{i}}">
                                <table  class="manager-table">
                                    <tbody>
                                    <tr class="manager">
                                        <th>
                                            <h4>{{offerData.sealer[0].name}}</h4>
                                        </th>
                                        <th>
                                            <h4 class="manager-date">Zürich,{{group.tstamp | date: 'dd.MM.y'}}</h4>
                                        </th>
                                    </tr>
                                    </tbody>
                                </table>
                                <p class="auftrag">Auftrag erteilt, Datum, Stempel, Unterschrift</p>
                            </div>
                        </div>
                    </ng-template>
                </div>
            </div>
        </div>
        <!-- PAGES CHAPTERS END -->
    </ng-container>
</section>
</div>